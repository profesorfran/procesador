
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Procesador de Texto Seguro</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    textarea {
      width: 100%;
      height: 300px;
      font-size: 16px;
      resize: none;
    }
    button {
      padding: 10px 20px;
      margin-top: 10px;
      font-size: 16px;
    }
  </style>
  <script>
    // Prevenci칩n de copiar, cortar y pegar
    function bloquearCopiarPegar(event) {
      event.preventDefault();
      alert("No est치 permitido copiar, cortar ni pegar texto.");
    }

    // Vaciar el textarea si el usuario cambia de pesta침a o ventana
    function reiniciarTexto() {
      const textarea = document.getElementById("texto");
      textarea.value = "";
    }

    // Enviar texto a la API
    async function enviarTexto() {
      const nombre = document.getElementById("nombre").value.trim();
      const curso = document.getElementById("curso").value.trim();
      const texto = document.getElementById("texto").value.trim();

      if (!nombre || !curso || !texto) {
        alert("Por favor, completa todos los campos.");
        return;
      }

      const contenido = `Nombre: ${nombre}\nCurso: ${curso}\n${texto}`;

      try {
        const response = await fetch('https://script.google.com/macros/s/AKfycbxQCViaTukCJO_GIHQA2ZDC3yj4O_NpLUlWHdWwXHUJrUDZQd1S-U_-mpSyBBuI0XcW1A/exec', {
          method: 'POST',
          body: contenido
        });
        alert("Texto enviado correctamente.");
        document.getElementById("texto").value = "";
      } catch (error) {
        alert("Error al enviar el texto.");
      }
    }

    // Detectar si el usuario ha salido de la pesta침a
    document.addEventListener("visibilitychange", () => {
      if (document.hidden) reiniciarTexto();
    });

    window.onload = () => {
      const textarea = document.getElementById("texto");
      textarea.addEventListener("copy", bloquearCopiarPegar);
      textarea.addEventListener("paste", bloquearCopiarPegar);
      textarea.addEventListener("cut", bloquearCopiarPegar);
    };
  </script>
</head>
<body>
  <h2>Procesador de Texto Seguro</h2>
  <label for="nombre">Nombre y apellidos:</label><br>
  <input type="text" id="nombre" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"><br><br>

  <label for="curso">Curso:</label><br>
  <input type="text" id="curso" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"><br><br>

  <label for="texto">Escribe tu texto:</label><br>
  <textarea id="texto" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea><br>

  <button onclick="enviarTexto()">Enviar texto</button>
</body>
</html>
